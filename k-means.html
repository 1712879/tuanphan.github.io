<html>
  <head>
    <title>Bài 16</title>
  </head>
  <body>
    <script src="https://www.lactame.com/lib/ml/3.2.0/ml.min.js"></script>
    <script>
    	const printTable = (X, c_min_loss, cluster) => {
    		document.write("Các mẫu trong cùng nhóm là:<br>")
		      for (k = 0; k < cluster; k++) {
		        for (i = 0; i < X.length; i++)
		          if (c_min_loss[i] == k)
		            document.write((i + 1) + ' ');
		        document.write('<br>');
		      }
    	}
      //Sử dụng thuật toán
      X = [
        [6,5,10], [9,10,8], [8,3,7], [6,4,3], [8,5,4],
        [6,5,9], [7,8,8], [5,4,6], [7,3,4], [9,10,7],
        [2,5,3], [8,8,6], [3,10,3], [3,10,10], [7,6,5],[10,7,3],[7,4,4],[7,9,5],[4,10,7],[1,3,4]
      ];
      const cluster = 3;

      min_loss = Infinity;
      for (l = 0; l < 10; l++) {
        //Chọn các trung tâm cụm
        mu0_position = X[0];
        mu1_position = X[8];
        mu2_position = X[19];
        // while (true) {
        //   mu1_position = Math.floor(Math.random() * 15);
        //   mu2_position = Math.floor(Math.random() * 15);
        //   if (mu0_position != mu1_position && mu1_position != mu2_position && mu2_position != mu0_position)
        //     break;
        // }

        mu = [mu0_position, mu1_position, mu2_position];
        
        km = ML.KMeans(X, 3, { initialization: mu });

        J = 0;
        for (k = 0; k < 3; k++)
          J += km.centroids[k].error;
        if (J < min_loss) {
          min_loss = J;
          c_min_loss = km.clusters;
        }
      }

	printTable(X, c_min_loss, cluster);
      //Kết quả
      // document.write("Các mẫu trong cùng nhóm là:<br>")
      // for (k = 0; k < 3; k++) {
      //   for (i = 0; i < X.length; i++)
      //     if (c_min_loss[i] == k)
      //       document.write((i + 1) + ' ');
      //   document.write('<br>');
      // }
    </script>
  </body>
</html>